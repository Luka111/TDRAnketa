<section data-ng-controller="UsersController" data-ng-init="findOne()">
  <h3>
    <span>Username: {{user.username}}</span></br>
  </h3>
  <h4>
    <span style="color:#666;">Role: {{user.roles[1]}}</span></br></br>
    <span>Name: {{user.name}}</span></br></br>
    <span>Email: {{user.email}}</span></br></br>
    <span data-ng-if="hasAuthorization(user)">
      <a class="btn" href="/#!/users/{{user._id}}/edit">
        <i class="glyphicon glyphicon-edit"></i>
      </a>
      <a class="btn" data-ng-click="remove(user);">
        <i class="glyphicon glyphicon-trash"></i>
      </a>
    </span>
    </br>
    <h3>User polls:</h3>
    <div ng-repeat="poll in user.polls">
      <!-- SAME AS /POLLS/VIEWS/VIEW.HTML but no findOne() on init -->
      <section data-ng-controller="PollsController">
        <span>{{poll.created | date:'medium'}}</span> /
        <span>{{poll.user.name}}</span>
        <h2>
          <a data-ng-href="#!/questionnaires/{{poll.questionnaire._id}}">{{poll.questionnaire.title}}</a>
        </h2>
        <h4>
          <div ng-repeat="answer in poll.answers track by $index">
            {{answer}}
          </div>
          <span data-ng-if="hasAuthorization(poll)">
            <a class="btn" href="/#!/polls/{{poll._id}}">
              <i class="glyphicon glyphicon-search"></i>
            </a>
            <a class="btn" href="/#!/polls/{{poll._id}}/edit">
              <i class="glyphicon glyphicon-edit"></i>
            </a>
            <a class="btn" data-ng-click="remove(poll);">
              <i class="glyphicon glyphicon-trash"></i>
            </a>
          </span>
        </h4>
      </section>
    </div>
  </h4>
</section>
