<a id="menu-toggle" href="#" class="btn btn-primary btn toggle"><i class="glyphicon glyphicon-list"></i></a>
<div class="page-header" id="sidebar-wrapper">
  <div class="sidebar-nav">
    <a id="menu-close" href="#" class="btn btn-default btn-lg pull-right toggle"><i class="glyphicon glyphicon-arrow-right"></i></a>
    <!--
    <div class="left pull-left">
      <ul class="navbar-nav nav">
        <li data-ng-repeat="item in menus.main" ui-route="/{{item.link}}" ng-class="{active: $uiRoute}">
          <a mean-token="item.link" ui-sref='{{item.link}}'>{{item.title}}</a>
        </li>
      </ul>
    </div>
    -->
    <div class="left pull-left">
      <ul class="navbar-nav nav">
        <li ng-repeat="menuItem in allMenus.main" ng-include="'menu-item.html'"></li>
      </ul>

      <div class="account">
        <div class="text-edit">
          <div class="pull-right" data-ng-show="global.authenticated" mean-token-editable></div>
          <div class="pull-right" data-ng-show="global.authenticated" mean-translate></div>
        </div>
        <ul style="float:left !important;" class="navbar-nav nav" data-ng-show="global.authenticated">
          <li><a href="/logout">Sign out</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="menu-item.html">
  <ul class="navbar-nav nav" data-ng-show="global.authenticated">
    <li class="dropdown">
      <a ng-if="menuItem.link" mean-token="menuItem.link" ui-sref="{{menuItem.link}}">{{menuItem.title}}</a>
      <a ng-if="!menuItem.link">{{menuItem.title}}</a>
      <a style="margin-left:-20px;" ng-if="menuItem.menus.length > 0" href="#" class="dropdown-toggle" data-toggle="dropdown">
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu" role="menu">
        <li style="background-color: #999;" ng-repeat="menuItem in menuItem.menus" ng-include="'menu-item.html'"></li>
      </ul>
    </li>
  </ul>
</script>

<script>
$("#menu-close").click(function(e) {
    e.preventDefault();
    $("#sidebar-wrapper").toggleClass("active");
});
</script>
<script>
$("#menu-toggle").click(function(e) {
    e.preventDefault();
    $("#sidebar-wrapper").toggleClass("active");
});
</script>
